(()=>{"use strict";var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var l in a)e.o(a,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:a[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};(()=>{const t=window.wp.blocks,a=window.wp.element,l=window.wp.blockEditor,n=window.wp.components,r=window.wp.apiFetch;var c=e.n(r),s=function(e){return e.replace(/<\/?[^>]+(>|$)/g,"").replace(/\s+/g," ").trim()},i=function(e,t){var a=s(e),l=a.split(" ");return l.length>t?l.slice(0,t).join(" ")+"...":a};(0,t.registerBlockType)("reqruitment-task/latest-posts",{title:"Latest Posts",category:"widgets",attributes:{superscription:{type:"string",default:"latest posts"},title:{type:"string",default:"Lorem ipsum dolor sit amit..."},text:{type:"string",default:"View all posts"},link:{type:"string",default:"/url-view-all-posts"},order:{type:"string",default:"DESC"},posts:{type:"array",default:[]}},edit:function(e){var t=e.attributes,r=e.setAttributes,o=t.title,m=t.superscription,d=t.text,p=t.link,u=t.order;return(0,a.useEffect)((function(){c()({path:"/wp/v2/posts?_embed"}).then((function(e){console.log("Fetched Posts:",e);var t=e.sort((function(e,t){var a=new Date(e.date),l=new Date(t.date);return"DESC"===u?l-a:a-l}));r({posts:t})})).catch((function(e){console.error("Error fetching posts:",e)}))}),[u]),React.createElement("section",{className:"wp-block-reqruitment-task-latest-posts"},React.createElement("div",{className:"wrapper"},React.createElement(l.InspectorControls,null,React.createElement(n.PanelBody,{title:"Settings"},React.createElement(n.SelectControl,{label:"Order",value:u,options:[{label:"Ascending (ASC)",value:"ASC"},{label:"Descending (DESC)",value:"DESC"}],onChange:function(e){return r({order:e})}}))),React.createElement("div",{className:"section-header"},React.createElement("div",{className:"heading"},React.createElement(l.RichText,{tagName:"span",value:m,onChange:function(e){return r({superscription:e})},placeholder:"Superscription"}),React.createElement(l.RichText,{tagName:"h2",value:o,onChange:function(e){return r({title:e})},placeholder:"Title"})),React.createElement("div",{className:"view-all-posts"},React.createElement("div",{className:"view-all-posts-label"},React.createElement(l.RichText,{tagName:"p",value:d,onChange:function(e){return r({text:e})},placeholder:"Text for 'View all posts'"}),React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"6",height:"12",viewBox:"0 0 6 12",fill:"none"},React.createElement("path",{d:"M5.64645 5.64645C5.84171 5.84171 5.84171 6.15829 5.64645 6.35355L0.853552 11.1464C0.53857 11.4614 -1.44492e-06 11.2383 -1.42545e-06 10.7929L-1.00644e-06 1.20711C-9.86967e-07 0.761654 0.53857 0.538571 0.853552 0.853553L5.64645 5.64645Z",fill:"#22B4AB"}))),React.createElement(l.RichText,{tagName:"a",value:p,onChange:function(e){return r({link:e})},placeholder:"Link for 'View all posts'"}))),React.createElement("div",{className:"latest-posts"},t.posts&&t.posts.length>0?t.posts.map((function(e){return React.createElement("div",{className:"post",key:e.id},React.createElement("div",{className:"thumbnail"},e._embedded&&e._embedded["wp:featuredmedia"]&&React.createElement(React.Fragment,null,React.createElement("img",{src:e._embedded["wp:featuredmedia"][0].media_details.sizes.large.source_url,alt:e.title.rendered,className:"post-thumbnail"}),React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"175",height:"178",viewBox:"0 0 175 178",fill:"none"},React.createElement("path",{d:"M0 1.5299e-05L3.02464e-07 178L175 178L0 1.5299e-05Z"})))),React.createElement("div",{className:"details"},e.sticky&&React.createElement("div",{className:"featured-post"},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"12",viewBox:"0 0 13 12",fill:"none"},React.createElement("path",{d:"M6.5 1.61803L7.48381 4.6459L7.59607 4.99139H7.95934H11.143L8.56737 6.86271L8.27348 7.07624L8.38573 7.42173L9.36955 10.4496L6.79389 8.57827L6.5 8.36475L6.20611 8.57827L3.63045 10.4496L4.61426 7.42173L4.72652 7.07624L4.43263 6.86271L1.85697 4.99139H5.04066H5.40393L5.51619 4.6459L6.5 1.61803Z",stroke:"#FF4043"})),React.createElement("span",null,"Featured post")),React.createElement("a",{href:e.link},React.createElement("h3",null,e.title.rendered)),React.createElement("p",null,i(s(e.excerpt.rendered),15)),React.createElement("a",{href:e.link,className:"read-more"},"Read more")))})):React.createElement("p",null,"No posts found."))))},save:function(e){var t=e.attributes,a=t.title,n=t.superscription,r=t.text,c=t.link,o=t.posts;return React.createElement("section",{className:"wp-block-reqruitment-task-latest-posts"},React.createElement("div",{className:"wrapper"},React.createElement("div",{className:"section-header"},React.createElement("div",{className:"heading"},React.createElement(l.RichText.Content,{tagName:"span",value:n}),React.createElement(l.RichText.Content,{tagName:"h2",value:a})),React.createElement("div",{className:"view-all-posts"},React.createElement("div",{className:"view-all-posts-label"},React.createElement("a",{href:c},React.createElement(l.RichText.Content,{tagName:"p",value:r}),React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"6",height:"12",viewBox:"0 0 6 12",fill:"none"},React.createElement("path",{d:"M5.64645 5.64645C5.84171 5.84171 5.84171 6.15829 5.64645 6.35355L0.853552 11.1464C0.53857 11.4614 -1.44492e-06 11.2383 -1.42545e-06 10.7929L-1.00644e-06 1.20711C-9.86967e-07 0.761654 0.53857 0.538571 0.853552 0.853553L5.64645 5.64645Z",fill:"#22B4AB"})))))),React.createElement("div",{className:"latest-posts"},o&&o.length>0?o.map((function(e){return React.createElement("div",{className:"post",key:e.id},React.createElement("div",{className:"thumbnail"},e._embedded&&e._embedded["wp:featuredmedia"]&&React.createElement(React.Fragment,null,React.createElement("img",{src:e._embedded["wp:featuredmedia"][0].media_details.sizes.large.source_url,alt:e.title.rendered,className:"post-thumbnail"}),React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"175",height:"178",viewBox:"0 0 175 178",fill:"none"},React.createElement("path",{d:"M0 1.5299e-05L3.02464e-07 178L175 178L0 1.5299e-05Z"})))),React.createElement("div",{className:"details"},e.sticky&&React.createElement("div",{className:"featured-post"},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"12",viewBox:"0 0 13 12",fill:"none"},React.createElement("path",{d:"M6.5 1.61803L7.48381 4.6459L7.59607 4.99139H7.95934H11.143L8.56737 6.86271L8.27348 7.07624L8.38573 7.42173L9.36955 10.4496L6.79389 8.57827L6.5 8.36475L6.20611 8.57827L3.63045 10.4496L4.61426 7.42173L4.72652 7.07624L4.43263 6.86271L1.85697 4.99139H5.04066H5.40393L5.51619 4.6459L6.5 1.61803Z",stroke:"#FF4043"})),React.createElement("span",null,"Featured post")),React.createElement("a",{href:e.link},React.createElement("h3",null,e.title.rendered)),React.createElement("p",null,i(s(e.excerpt.rendered),15)),React.createElement("a",{href:e.link,className:"read-more"},"Read more")))})):React.createElement("p",null,"No posts found."))))}})})()})();